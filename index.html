<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="index.css">		
	<script src="https://cdn.anychart.com/releases/8.6.0/js/anychart-core.min.js"> </script> 
	<script src ="https://cdn.anychart.com/releases/8.6.0/js/anychart-gantt.min.js"> </script>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
	<link rel="stylesheet" href="/resources/demos/style.css">
	<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
	<script>
	$( function() {
		$( "#datepicker_inicio" ).datepicker();
		$( "#datepicker_fin" ).datepicker();
		$( "#datepicker_inicio_a1" ).datepicker();
		$( "#datepicker_fin_a1" ).datepicker();
		$( "#datepicker_inicio_a2" ).datepicker();
		$( "#datepicker_fin_a2" ).datepicker();
		$( "#datepicker_inicio_a3" ).datepicker();
		$( "#datepicker_fin_a3" ).datepicker();
		$( "#datepicker_inicio_a4" ).datepicker();
		$( "#datepicker_fin_a4" ).datepicker();
		$( "#datepicker_inicio_a5" ).datepicker();
		$( "#datepicker_fin_a5" ).datepicker();
	} );
	</script>
	<title>Mantenimiento</title>
</head>
<body>
	<div id = "container">		
		<div id = container_1>
			<div class="topnav">
				<table>
					<thead>

					</thead>
					<tbody>						
						<td>
							<label> Nombre del proyecto: </label>
							<input type="text" id="nombre_proyecto_input" name="name_proyecto">
							<label> Fecha Inicio: </label>
							<p><input type="text" id="datepicker_inicio"></p>
							<label> Fecha Final: </label>
							<p><input type="text" id="datepicker_fin"></p>
						</td>
						<td>
							<label> Actividad 1</label>
							<input type="text" id="nombre_actividad_1" name="name_actividad_1">
							<label> Nivel de cumplimiento Actividad 1</label>
							<input type="range" min="1" max="100" value="50" class="slider" id="slider_actividad_1">
							<br><label> Fecha Inicio: </label>
							<p><input type="text" id="datepicker_inicio_a1"></p>
							<label> Fecha Final: </label>
							<p><input type="text" id="datepicker_fin_a1"></p>
							<label> Actividad 1 conecta a: </label>
							<select name="select_predecesor" id="select_predecesor_a1">
							  	<option value="1_2"> Actividad 2 </option>
							  	<option value="1_3"> Actividad 3 </option>
							  	<option value="1_4"> Actividad 4 </option>
							  	<option value="1_5"> Actividad 5 </option>
							</select>
						</td>
						<td>
							<label> Actividad 2</label>
							<input type="text" id="nombre_actividad_2" name="name_actividad_2">
							<label> Nivel de cumplimiento Actividad 2</label>
							<input type="range" min="1" max="100" value="50" class="slider" id="slider_actividad_2">
							<br><label> Fecha Inicio: </label>
							<p><input type="text" id="datepicker_inicio_a2"></p>
							<label> Fecha Final: </label>
							<p><input type="text" id="datepicker_fin_a2"></p>
							<label> Actividad 2 conecta a: </label>
							<select name="select_predecesor_2" id="select_predecesor_a2">
							  	<option value="1_1"> Actividad 1 </option>
							  	<option value="1_3"> Actividad 3 </option>
							  	<option value="1_4"> Actividad 4 </option>
							  	<option value="1_5"> Actividad 5 </option>
							</select>
						</td>
						<td>
							<label> Actividad 3</label>
							<input type="text" id="nombre_actividad_3" name="name_actividad_3">
							<label> Nivel de cumplimiento Actividad 3</label>
							<input type="range" min="1" max="100" value="50" class="slider" id="slider_actividad_3">
							<br><label> Fecha Inicio: </label>
							<p><input type="text" id="datepicker_inicio_a3"></p>
							<label> Fecha Final: </label>
							<p><input type="text" id="datepicker_fin_a3"></p>
							<label> Actividad 3 conecta a: </label>
							<select name="select_predecesor_3" id="select_predecesor_a3">
							  	<option value="1_1"> Actividad 1 </option>
							  	<option value="1_2"> Actividad 2 </option>
							  	<option value="1_4"> Actividad 4 </option>
							  	<option value="1_5"> Actividad 5 </option>
							</select>
						</td>
						<td>
							<label> Actividad 4</label>
							<input type="text" id="nombre_actividad_4" name="name_actividad_4">
							<label> Nivel de cumplimiento Actividad 4</label>
							<input type="range" min="1" max="100" value="50" class="slider" id="slider_actividad_4">
							<br><label> Fecha Inicio: </label>
							<p><input type="text" id="datepicker_inicio_a4"></p>
							<label> Fecha Final: </label>
							<p><input type="text" id="datepicker_fin_a4"></p>
							<label> Actividad 4 conecta a: </label>
							<select name="select_predecesor_4" id="select_predecesor_a4">
								<option value="1_1"> Actividad 1 </option>
							  	<option value="1_2"> Actividad 2 </option>
							  	<option value="1_3"> Actividad 3 </option>
							  	<option value="1_5"> Actividad 5 </option>
							</select>
						</td>
						<td>
							<label> Actividad 5</label>
							<input type="text" id="nombre_actividad_5" name="name_actividad_5">
							<label> Nivel de cumplimiento Actividad 1</label>
							<input type="range" min="1" max="100" value="50" class="slider" id="slider_actividad_5">
							<br><label> Fecha Inicio: </label>
							<p><input type="text" id="datepicker_inicio_a5"></p>
							<label> Fecha Final: </label>
							<p><input type="text" id="datepicker_fin_a5"></p>
							<label> Actividad 5 conecta a: </label>
							<select name="select_predecesor_5" id="select_predecesor_a5">
								<option value="1_1"> Actividad 1 </option>
							  	<option value="1_2"> Actividad 2 </option>
							  	<option value="1_3"> Actividad 3 </option>
							  	<option value="1_4"> Actividad 4 </option>
							</select>
						</td>
					</tbody>
				</table>
				<button id="boton_crear"> Crear Proyecto </button>
			</div>
		</div>
	</div>
	<div id = "container_2"> 
		
	</div>
	<script>
	var boton_np = document.getElementById('boton_crear')
	var npdatein = document.getElementById('datepicker_inicio');
	var npdatefin = document.getElementById('datepicker_fin');
	var npdatein_a1 = document.getElementById('datepicker_inicio_a1');
	var npdatefin_a1 = document.getElementById('datepicker_fin_a1');
	var npdatein_a2 = document.getElementById('datepicker_inicio_a2');
	var npdatefin_a2 = document.getElementById('datepicker_fin_a2');
	var npdatein_a3 = document.getElementById('datepicker_inicio_a3');
	var npdatefin_a3 = document.getElementById('datepicker_fin_a3');
	var npdatein_a4 = document.getElementById('datepicker_inicio_a4');
	var npdatefin_a4 = document.getElementById('datepicker_fin_a4');
	var npdatein_a5 = document.getElementById('datepicker_inicio_a5');
	var npdatefin_a5 = document.getElementById('datepicker_fin_a5');
	var caso1 = 'finish-start'
	var caso2 = 'start-start'
	var caso3 = 'start-finish'
	let np = document.getElementById('nombre_proyecto_input')
	let na1 = document.getElementById('nombre_actividad_1')
	let pora1 = document.getElementById('slider_actividad_1')
	let preda1 = document.getElementById('select_predecesor_a1')
	let na2 = document.getElementById('nombre_actividad_2')
	let pora2 = document.getElementById('slider_actividad_2')
	let preda2 = document.getElementById('select_predecesor_a2')	
	let na3 = document.getElementById('nombre_actividad_3')
	let pora3 = document.getElementById('slider_actividad_3')
	let preda3 = document.getElementById('select_predecesor_a3')
	let na4 = document.getElementById('nombre_actividad_4')
	let pora4 = document.getElementById('slider_actividad_4')
	let preda4 = document.getElementById('select_predecesor_a4')
	let na5 = document.getElementById('nombre_actividad_5')
	let pora5 = document.getElementById('slider_actividad_5')
	let preda5 = document.getElementById('select_predecesor_a5')

	boton_np.addEventListener("click", Crear)
	function Crear(){	
		npvalue = np.value;
		npdatevalue = npdatein.value;
		npdatefinvalue = npdatefin.value;
		na1value = na1.value;
		pora1value = pora1.value;
		pora1value = pora1value.toString();
		preda1value = preda1.value;
		npdatevalue_a1=npdatein_a1.value;
		npdatefinvalue_a1=npdatefin_a1.value;
		na2value=na2.value;
		pora2value=pora2.value;
		pora2value=pora2value.toString();
		preda2value = preda2.value;
		npdatevalue_a2=npdatein_a2.value;
		npdatefinvalue_a2=npdatefin_a2.value;
		na3value=na3.value;
		pora3value=pora3.value;
		pora3value=pora3value.toString();
		preda3value = preda3.value;
		npdatevalue_a3=npdatein_a3.value;
		npdatefinvalue_a3=npdatefin_a3.value;
		na4value=na4.value;
		pora4value=pora4.value;
		pora4value=pora4value.toString();
		preda4value = preda4.value;
		npdatevalue_a4=npdatein_a4.value;
		npdatefinvalue_a4=npdatefin_a4.value;
		na5value=na5.value;
		pora5value=pora5.value;
		pora5value=pora5value.toString();
		preda5value = preda5.value;
		npdatevalue_a5=npdatein_a5.value;
		npdatefinvalue_a5=npdatefin_a5.value;
	anychart.onDocumentReady(function() {			
		var data = [{
			id: "1",
			name: npvalue,
			actualStart: npdatevalue,
			actualEnd: npdatefinvalue,
			children: [{
					id: "1_1",
					name: na1value,
					actualStart: npdatevalue_a1,
					actualEnd: npdatefinvalue_a1,
					connectTo: preda1value,
					connectorType: caso1,	
					progressValue: pora1value/100
				},
				{
					id: "1_2",
					name: na2value,
					actualStart: npdatevalue_a2,
					actualEnd: npdatefinvalue_a2,
					connectTo: preda2value,
					connectorType: caso2,
					progressValue: pora2value/100
				},
				{
					id: "1_3",
					name: na3value,
					actualStart: npdatevalue_a3,
					actualEnd: npdatefinvalue_a3,
					connectTo: preda3value,
					connectorType: caso3,
					progressValue: pora3value/100
				},
				{
					id: "1_4",
					name: na4value,
					actualStart: npdatevalue_a4,
					actualEnd: npdatefinvalue_a4,
					connectTo: preda4value,
					connectorType: caso2,
					progressValue: pora4value/100
				},
				{
					id: "1_5",
					name: na5value,
					actualStart: npdatevalue_a5,
					actualEnd: npdatefinvalue_a5,
					connectTo: preda5value,
					connectorType: caso1,
					progressValue: pora5value/100
				},
			]
		}];

		anychart.format.inputDateTimeFormat("MM/dd/yyyy");
		
		var treeData = anychart.data.tree(data, "as-tree");
		var chart = anychart.ganttProject();

		chart.data(treeData);
		chart.edit(true);
		chart.getTimeline().periods().edit(true);
		chart.getTimeline().scale().minimum(Date.UTC(2022, 06, 1));
		chart.getTimeline().scale().maximum(Date.UTC(2023, 06, 30));
		chart.defaultRowHeight(15);
		chart.headerHeight(30);	
		chart.splitterPosition("25%")
		chart.container("container_2");
		chart.draw();
		chart.fitAll();
	});
}
	</script>
</body>
</html>

